!function(a){function b(a){var b=a.target,e=b[a.type];d(e)&&e.call(this.element,c(a,b.coordinate))}function c(b,c){return a.Event(b.type,{originalEvent:b,geo:{latitude:c.latitude,longitude:c.longitude},target:b.target})}function d(a){return"function"==typeof a}var e,f,g,h,i,j={text:"",textColor:"#333333",fill:"#ff6347",stroke:"#333333",shape:"balloon",icon:void 0,group:"_"},k=a.proxy,l="mouse",m="click",n="drag",o="touch",p="start",q="end",r="move",s=[m,"dbl"+m,l+"up",l+"down",l+r,l+"over",l+"out",l+"enter",l+"leave","longpress",n+p,n,n+q,"resize",o+p,o+q,o+r];f=function(c,d){var f,g,h={},i=k(b,this),l=this._mc,m="Marker";this.groups=this.groups||{},g=this.groups,e=e||nokia.maps,a.each(s,function(a,b){h[b]=[i,!1,null]}),d=a.extend({},j,d),d.textPen=d.textPen||{strokeColor:d.textColor},d.pen=d.pen||{strokeColor:d.stroke},d.brush=d.brush||{color:d.fill},d.eventListener=h,d.icon||(m="Standard"+m),f=new e.map[m](c,d),g[d.group]=g[d.group]||[],g[d.group].visible=0===g[d.group].length?!0:g[d.group].visible,g[d.group].push(f),g[d.group].visible&&l.objects.add(f)},h=function(b,c){var d,e=this._mc,f=e.objects;this.groups=this.groups||{},d=this.groups,b=b instanceof Array?b:[b],a.each(b,function(a,b){c?f.addAll(d[b]||[]):f.removeAll(d[b]||[]),d[b].visible=!!c})},g=function(){this._mc.objects.clear(),this.groups={}},i=function(a){if(this._mc.objects.getLength()>1){var b=this._mc.getBoundingBox();this.map.zoomTo(b,a||!1)}},a.jHERE.extend("marker",f),a.jHERE.extend("markergroups",h),a.jHERE.extend("nomarkers",g),a.jHERE.extend("zoomToMarkers",i)}(jQuery);